## MVC 设计模式理念

## 一、实验说明
### 1.1 实验内容
本节主要介绍 MVC 设计模式，为下一节我们要学习的 `视图` 准备好理论基础。

### 1.2 涉及知识点
* MVC 设计模式

## 二、什么是 MVC
MVC 的英文是 Model View Controller，是一种开发设计范式，核心宗旨是低耦合度，逻辑、数据与界面展示分开的开发模式，方便项目后期扩展和修改。比如界面优化时只需要对界面相关的模块进行修改甚至直接替换，不影响业务逻辑，修改业务逻辑时同理，不影响界面的处理，只需要在对应模块之间实现桥梁（接口）就可以

## 三、为什么需要 MVC
之前在框架设计那一节中我们就提到过 `需求` 这两个字，通常的开发流程是这样子的，首先由产品设计用户交互功能，然后定稿最初版本需求，在最初版本完成的期间内，通常是不会允许直接对需求进行更改替换而是在下一个版本在迭代更新，这么做是为了防止一个项目产品因为需求一直变更，比如追加和删减，导致开发者开发周期变相被迫延长出现没有产出的假象。但是现实终究是残酷的，除非在非常正规的企业中，否则需求变更是一个无时不刻都在发生的事情，而作为一个开发者，我们为了应对这种情况，就需要在开发之初先设计好项目整体架构，尽可能的降低每个功能模块之间的联系甚至做到完全独立开来，以此应对频繁变化的需求。

## 四、如何为 Web 框架提供 MVC 设计模型设计的开发范式
MVC 的核心就是分离，而就我们上一节的路由最后的测试代码来分析有什么不合适的地方，这里为了同学们方便查看，我贴上了上一小节的 `main.py` 文件里的代码
```Python
from sylfk import SYLFk


app = SYLFk()

@app.route('/index', methods=['GET'])
def index():
    return '这是一个路由测试页面'


@app.route("/test/js")
def test_js():
   return '<script src="/static/test.js"></script>'

app.run()
```

从代码层我们可以分为两块，也就是两个 `@app.route` 装饰的方法，而这两个方法都是 `URL`，逻辑处理，返回数据全部版定再一起的，也就是说当你要把“/index”这个 `URL` 里面的逻辑进行更改，加一个判断或者其它什么操作，返回成另一个数据，那么毫无疑问，整个函数都必须抛弃掉重新实现了，而且每一个函数这里理解为 MVC 中的业务逻辑，它只可以被一个 `route` 进行装饰，并且之间没有可复用继承的关系，比如要对这两个 `URL` 都加上用户登录验证，那么就需要每个函数内部都进行权限判断，或者封装为一个装饰器在装饰到每一个函数上，但是当业务逻辑大起来之后，每一个函数都要这么去加，是非常降低效率的，并且由于基数变大，一些关键函数可能会存在忘记加上权限验证而导致安全问题，所以为了解决这个问题，在 `Web 框架` 中就需要设计一个 `既可以做到代码分离，又能实现继承关系` 的开发模式，也就是我们下一节要讲的 `Web 框架` 中的 `视图`。


## 总结
通过本节我们知道了什么是 `MVC` 设计模式，以及对我们下一节要实现的视图的需求有了一个明确的核心要点，就是代码分离与继承关系。让我们通过继续学习下一节来学会如何实现一个能做到以上两点的 `视图` 吧。
